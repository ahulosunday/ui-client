"use strict";(self.webpackChunknhia_client=self.webpackChunknhia_client||[]).push([[8617],{67222:function(e,r,n){n.d(r,{Z:function(){return t},g:function(){return s}});var t=1,s=30},18617:function(e,r,n){n.a(e,(async function(e,t){try{n.r(r);var s=n(74165),c=n(15861),i=n(29439),a=n(99126),o=n(72791),d=n(57689),l=n(11087),u=n(1012),h=(n(2323),n(30459)),x=n(1582),j=n(57246),f=n(67222),p=n(78983),y=n(59930),E=n(80184),Z=e([a,u,y]);[a,u,y]=Z.then?(await Z)():Z;r.default=function(){var e=(0,o.useState)([]),r=(0,i.Z)(e,2),n=r[0],t=r[1],Z=o.useState(1),m=(0,i.Z)(Z,2),g=m[0],C=m[1],T=(0,o.useState)([]),v=(0,i.Z)(T,2),w=v[0],D=v[1],N=(0,o.useContext)(u.V),O=N.currentUser,U=N.permissions,b=(0,d.s0)(),R=(0,o.useState)(!1),k=(0,i.Z)(R,2),A=k[0],S=k[1];(0,o.useEffect)((function(){U.indexOf("VIEW_COUNTRY")>-1||b("/");U.indexOf("ADD_COUNTRY")>-1&&S(!0);var e=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get("/country/".concat(f.Z,"/").concat(f.g)).then((function(e){t(e.data.res),D(e.data)})).catch((function(e){(0,h.Z)("Error occured while trying to load data! :"+e,"error")}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,h.Z)("Error occured, reason: "+e.t0,"error");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}();e()}),[O,U,b]);var _=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(r,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(n),e.prev=1,e.next=4,a.Z.get("/country/".concat(g,"/").concat(f.g)).then((function(e){t(e.data.res),D(e.data)})).catch((function(e){(0,h.Z)("Error occured while trying to load data !"+e,"error")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),(0,h.Z)("Error occured, reason: "+e.t0,"error");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r,n){return e.apply(this,arguments)}}();return(0,E.jsx)(p.rb,{children:(0,E.jsx)(p.b7,{xs:12,children:(0,E.jsxs)(p.xH,{className:"mb-12",children:[(0,E.jsx)(p.bn,{style:{backgroundColor:"skyblue"},children:(0,E.jsx)("strong",{style:{color:"white"},children:"LIST OF COUNTRIES"})}),(0,E.jsxs)(p.sl,{children:[(0,E.jsx)("p",{className:"text-medium-emphasis small",children:"Using the Add New button to create new Country."}),(0,E.jsx)(y.q3,{href:"country/add",add:"Country List",showAdd:A}),(0,E.jsxs)(p.Sx,{striped:!0,style:{fontSize:"12px"},align:"middle",responsive:!0,children:[(0,E.jsx)(p.V,{children:(0,E.jsxs)(p.T6,{children:[(0,E.jsx)(p.is,{children:"COUNTRY"}),(0,E.jsx)(p.is,{children:"SHORTNAME"}),(0,E.jsx)(p.is,{children:"CODE"}),(0,E.jsx)(p.is,{children:"CURRENCY"}),(0,E.jsx)(p.is,{children:"EDITEDBY"}),(0,E.jsx)(p.is,{children:"CREATED_DATE"}),(0,E.jsx)(p.is,{children:"LAST_UPDATED"}),(0,E.jsx)(p.is,{})]})}),(0,E.jsx)(p.NR,{children:0===n.length?"":n.map((function(e){return(0,E.jsxs)(p.T6,{children:[(0,E.jsx)(p.is,{children:e.name}),(0,E.jsx)(p.is,{children:e.shortname}),(0,E.jsx)(p.is,{children:e.code}),(0,E.jsx)(p.is,{children:e.currency}),(0,E.jsx)(p.is,{children:e.user.surname+" "+e.user.othername}),(0,E.jsx)(p.is,{children:e.createdAt}),(0,E.jsx)(p.is,{children:e.updatedAt}),(0,E.jsx)(p.is,{children:(0,E.jsxs)(p.Z0,{children:[U.indexOf("EDIT_COUNTRY")>-1?(0,E.jsx)(p.u5,{color:"secondary",size:"sm",children:(0,E.jsx)(l.rU,{to:"/0/country/",state:e.id,className:"edit",style:{color:"white",textDecoration:"none"},children:" Edit"})}):"",U.indexOf("DELETE_COUNTRY")>-1?(0,E.jsx)(p.u5,{color:"danger",size:"sm",children:(0,E.jsx)(l.rU,{to:"/delete",state:e.id+"&/country&/country/",className:"delete",style:{color:"white",textDecoration:"none"},children:"Delete"})}):""]})})]},e.id)}))})]}),(0,E.jsx)("p",{children:(0,E.jsx)(x.Z,{spacing:2,children:(0,E.jsx)(j.Z,{count:w.totalPages,page:g,onChange:_,variant:"outlined",shape:"rounded",color:"secondary"})})})]})]})})})},t()}catch(m){t(m)}}))}}]);
//# sourceMappingURL=8617.b96b00b3.chunk.js.map