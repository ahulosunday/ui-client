{"version":3,"file":"static/js/3410.7966eda0.chunk.js","mappings":"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","sources":["helpers/paging_indexes.js","pages/role/list.jsx"],"sourcesContent":["\r\nexport const startIndex = 1;\r\nexport const per_page = 30;\r\n//1692950350","import app from '../../helpers/axiosConfig'\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/authContext\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { Pagination, Stack } from '@mui/material';\r\nimport { per_page, startIndex } from '../../helpers/paging_indexes';\r\nimport showToastMessage from '../../components/toast';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport { CButton, CButtonGroup, CCard, CCardBody, CCardHeader, CCol, CFormInput, CFormLabel, CFormSelect, CFormTextarea, CRow, CTable, CTableBody, CTableDataCell, CTableHead, CTableHeaderCell, CTableRow } from '@coreui/react';\r\nimport { DocsExample } from '../../components';\r\n\r\nconst List = () =>{\r\n       const [role, setRole] = useState([]);\r\n       const [page, setPage] = React.useState(1);\r\n        const [data, setData] = useState([]);\r\n    const {currentUser, permissions } = useContext(AuthContext);\r\n    const navigate = useNavigate()\r\n       \r\n\r\nuseEffect(()=>{\r\n     if(!(permissions.indexOf(\"ADD_ROLES\") > -1)){\r\n      navigate('/')\r\n     }\r\nconst loadItem = async e =>{\r\n    try{\r\n         \r\n    await app.get(`/role/${startIndex}/${per_page}`)\r\n    .then(res=>{\r\n     setRole(res.data.res);\r\n     setData(res.data)\r\n    })\r\n    .catch(err=>{\r\n     showToastMessage('Error occured while loading data.', 'error')\r\n    })\r\n    \r\n        \r\n    }catch(err){\r\n         showToastMessage('Error occured while loading data.', 'error')\r\n        }\r\n        \r\n    }\r\n   \r\n         loadItem() \r\n         //===============================\r\n\r\n  }, [permissions, navigate,currentUser])\r\n  const handleChange = async (e, value) => {\r\n    setPage(value);\r\n      try{\r\n         \r\n    trackPromise(app.get(`/role/${page}/${per_page}`)\r\n    .then(res=>{\r\n     setRole(res.data.res);\r\n     setData(res.data)\r\n    })\r\n    .catch(err=>{\r\n     showToastMessage('Error occured while loading data.', 'error')\r\n    })\r\n    )\r\n        \r\n    }catch(err){\r\n         showToastMessage('Error occured while loading data.', 'error')\r\n        }\r\n\r\n  }\r\n    \r\n    return (\r\n             <CRow >\r\n         <CCol xs={10} style={{fontSize:'12px'}}>\r\n        <CCard className=\"mb-12\" >\r\n         <CCardHeader style={{backgroundColor:'skyblue'}}>\r\n            <strong style={{color:'white'}}>ADD ROLES</strong>\r\n          </CCardHeader>\r\n          <CCardBody>\r\n            <DocsExample add=\"ADD ROLES\" href=\"role/add\" showAdd={permissions.indexOf(\"ADD_ROLES\") > -1? true : false}> \r\n       <CTable striped style={{fontSize:'12px'}} align=\"middle\" responsive>\r\n       <CTableHead>\r\n       <CTableRow>\r\n       <CTableHeaderCell>Name</CTableHeaderCell>\r\n       <CTableHeaderCell>Description</CTableHeaderCell>\r\n      \r\n       <CTableHeaderCell></CTableHeaderCell>\r\n       </CTableRow>\r\n       </CTableHead>\r\n       <CTableBody>\r\n       {\r\n           role.length === 0? '': role.map((item)=>(\r\n            <CTableRow key={item.id}>\r\n       <CTableDataCell>{item.name}</CTableDataCell>\r\n       <CTableDataCell>{item.description}</CTableDataCell>\r\n       <CTableDataCell>\r\n       <CButtonGroup>\r\n        {permissions.indexOf(\"EDIT_ROLE\") > -1? <CButton color=\"secondary\" size=\"sm\" ><Link to={`/${0}/role/`}  state={item.id} className=\"edit\" style={{color:'white', textDecoration:'none'}}> Edit</Link></CButton>: ''} \r\n        {permissions.indexOf(\"ADD_ROLES\") > -1? <CButton color=\"primary\" size=\"sm\" ><Link to={`/${0}/role/0`}  state={item.id} className=\"edit\" style={{color:'white', textDecoration:'none'}}> Assign Permission</Link></CButton>: ''} \r\n        {permissions.indexOf(\"DELETE_ROLE\") > -1? <CButton color=\"danger\" size=\"sm\" ><Link to={'/delete'}  state={item.id +'&/role/list&/role/'} className=\"delete\" style={{color:'white', textDecoration:'none'}}>Delete</Link></CButton>:''}\r\n        </CButtonGroup></CTableDataCell>\r\n       </CTableRow>\r\n            ))\r\n        }\r\n      </CTableBody>\r\n       </CTable>\r\n      \r\n       <Stack spacing={2}>\r\n      <Pagination count={data.totalPages} page={page} onChange={handleChange} variant=\"outlined\" shape=\"rounded\"  color=\"secondary\" />\r\n    </Stack>\r\n      \r\n      </DocsExample>\r\n      </CCardBody>\r\n      </CCard>\r\n      </CCol>\r\n      </CRow>\r\n      \r\n        \r\n        \r\n       \r\n       \r\n    )\r\n}\r\n\r\nexport default List"],"names":["startIndex","per_page","_useState","useState","_useState2","_slicedToArray","role","setRole","_React$useState","React","_React$useState2","page","setPage","_useState3","_useState4","data","setData","_useContext","useContext","AuthContext","currentUser","permissions","navigate","useNavigate","useEffect","indexOf","loadItem","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","app","get","concat","then","res","catch","err","showToastMessage","t0","stop","_x","apply","arguments","handleChange","_ref2","_callee2","value","_context2","trackPromise","_x2","_x3","_jsx","CRow","children","CCol","xs","style","fontSize","_jsxs","CCard","className","CCardHeader","backgroundColor","color","CCardBody","DocsExample","add","href","showAdd","CTable","striped","align","responsive","CTableHead","CTableRow","CTableHeaderCell","CTableBody","length","map","item","CTableDataCell","name","description","CButtonGroup","CButton","size","Link","to","state","id","textDecoration","Stack","spacing","Pagination","count","totalPages","onChange","variant","shape"],"sourceRoot":""}