"use strict";(self.webpackChunknhia_client=self.webpackChunknhia_client||[]).push([[9814],{65694:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r,a=t(74165),s=t(15861),o=t(29439),i=t(72791),l=t(57689),c=t(11087),u=new Uint8Array(16);function d(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(u)}var m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var h=function(e){return"string"===typeof e&&m.test(e)},p=[],x=0;x<256;++x)p.push((x+256).toString(16).substr(1));var f,j,g=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(p[e[n+0]]+p[e[n+1]]+p[e[n+2]]+p[e[n+3]]+"-"+p[e[n+4]]+p[e[n+5]]+"-"+p[e[n+6]]+p[e[n+7]]+"-"+p[e[n+8]]+p[e[n+9]]+"-"+p[e[n+10]]+p[e[n+11]]+p[e[n+12]]+p[e[n+13]]+p[e[n+14]]+p[e[n+15]]).toLowerCase();if(!h(t))throw TypeError("Stringified UUID is invalid");return t},v=0,w=0;var y=function(e,n,t){var r=n&&t||0,a=n||new Array(16),s=(e=e||{}).node||f,o=void 0!==e.clockseq?e.clockseq:j;if(null==s||null==o){var i=e.random||(e.rng||d)();null==s&&(s=f=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==o&&(o=j=16383&(i[6]<<8|i[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:w+1,u=l-v+(c-w)/1e4;if(u<0&&void 0===e.clockseq&&(o=o+1&16383),(u<0||l>v)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=l,w=c,j=o;var m=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;a[r++]=m>>>24&255,a[r++]=m>>>16&255,a[r++]=m>>>8&255,a[r++]=255&m;var h=l/4294967296*1e4&268435455;a[r++]=h>>>8&255,a[r++]=255&h,a[r++]=h>>>24&15|16,a[r++]=h>>>16&255,a[r++]=o>>>8|128,a[r++]=255&o;for(var p=0;p<6;++p)a[r+p]=s[p];return n||g(a)},b=t(8961),C=t(1012),Z=t(21686),S=t(78983),R=t(22134),k=t(30459),N=t(53603),A=t(59860),V=t(1582),O=t(1780),P=t(80184),U=function(){var e=(0,i.useContext)(C.V).currentUser,n=(0,l.s0)(),t=(0,i.useState)(!1),r=(0,o.Z)(t,2),u=r[0],d=r[1];(0,i.useEffect)((function(){if(e)return n("/")}),[e]);var m=(0,i.useState)(null),h=(0,o.Z)(m,2),p=(h[0],h[1]),x=(0,i.useState)(""),f=(0,o.Z)(x,2),j=f[0],g=f[1],v=(0,i.useState)(null),w=(0,o.Z)(v,2),U=w[0],I=w[1],E=(0,i.useState)(""),T=(0,o.Z)(E,2),q=T[0],D=T[1],Y=(0,i.useState)(""),L=(0,o.Z)(Y,2),z=L[0],H=L[1],F=(0,i.useState)(""),M=(0,o.Z)(F,2),_=M[0],B=M[1],G=(0,i.useState)(""),J=(0,o.Z)(G,2),K=J[0],W=J[1],$=(0,i.useState)(""),Q=(0,o.Z)($,2),X=Q[0],ee=Q[1],ne=(0,i.useState)(""),te=(0,o.Z)(ne,2),re=te[0],ae=te[1],se=(0,i.useState)(2),oe=(0,o.Z)(se,2),ie=oe[0],le=(oe[1],(0,i.useState)(y())),ce=(0,o.Z)(le,2),ue=ce[0],de=(ce[1],(0,i.useState)("")),me=(0,o.Z)(de,2),he=me[0],pe=me[1],xe=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,d(!0),j===re){e.next=8;break}(0,k.Z)("Password mismatch found !","error"),d(!1),e.next=12;break;case 8:return(r=new FormData).append("file",U),e.next=12,b.Z.post("/uploadfile",r).then(function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.post("/users",{username:K,password:re,email:X,uiid:ue,roleid:ie,imgurl:t.data.filename,surname:q,othername:_,phone:z,isActive:0}).then((function(e){d(!1),n("/login",{state:"Please wait for confirmation of your Payment."})})).catch((function(e){d(!1),p(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){d(!1),(0,k.Z)("No image found","error")}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),p("Something went wrong. All fields are required. please check your entry and try again"+e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}();return(0,P.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,P.jsx)(S.KB,{children:(0,P.jsx)(S.rb,{className:"justify-content-center",children:(0,P.jsx)(S.b7,{md:9,lg:7,xl:6,children:(0,P.jsx)(S.xH,{className:"mx-4",children:(0,P.jsx)(S.sl,{className:"p-4",style:{backgroundColor:"AppWorkspace",border:"2px solid darkgreen"},children:(0,P.jsxs)(S.lx,{children:[(0,P.jsxs)("p",{className:"text-medium-emphasis",style:{textAlign:"center"},children:[(0,P.jsx)("img",{style:{marginTop:0,borderRadius:"30px"},src:N,alt:""}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{style:{color:"teal"},children:" NHIA PORTAL"}),(0,P.jsx)("br",{})]}),(0,P.jsx)(S.rb,{children:(0,P.jsx)(S.b7,{children:(0,P.jsx)(S.xH,{className:"mb-12",children:(0,P.jsx)(S.sl,{children:(0,P.jsxs)(O.q3,{add:"PRE-REGISTRATION FORM",children:[(0,P.jsxs)("div",{style:{textAlign:"right"},children:[(0,P.jsx)("img",{className:"uploadImg",alt:"",src:he,style:{height:"100px",width:"100px"},id:"cxfileimg"}),(0,P.jsx)("br",{})," ",(0,P.jsx)("span",{style:{color:"red",fontSize:9},children:"Image size: 5kb, type: png, jpeg, jpg, gif"})]}),(0,P.jsxs)(S.YR,{className:"mb-4",children:[(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.y6u,{})}),(0,P.jsx)(S.jO,{type:"file",name:"file",onChange:function(e){I(e.target.files[0]),pe(URL.createObjectURL(e.target.files[0]))}})]}),(0,P.jsxs)(S.YR,{className:"mb-3",children:[(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.y8g,{})}),(0,P.jsx)(S.jO,{placeholder:"Surname",name:"surname",autoComplete:"surname",onChange:function(e){return D(e.target.value)}}),(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.AhU,{})}),(0,P.jsx)(S.jO,{placeholder:"Othername",name:"othername",autoComplete:"othername",onChange:function(e){return B(e.target.value)}})]}),(0,P.jsxs)(S.YR,{className:"mb-3",children:[(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.rJP,{})}),(0,P.jsx)(S.jO,{placeholder:"Phone Number",name:"phone",autoComplete:"phone",onChange:function(e){return H(e.target.value)}}),(0,P.jsx)(S.wV,{children:"@"}),(0,P.jsx)(S.jO,{placeholder:"Email",name:"email",autoComplete:"email",onChange:function(e){return ee(e.target.value)}})]}),(0,P.jsxs)(S.YR,{className:"mb-3",children:[(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.w8I,{})}),(0,P.jsx)(S.jO,{placeholder:"Username",name:"username",autoComplete:"username",onChange:function(e){return W(e.target.value)}})]}),(0,P.jsxs)(S.YR,{className:"mb-3",children:[(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.ATb,{})}),(0,P.jsx)(S.jO,{type:"password",placeholder:"Password",name:"password",autoComplete:"new-password",onChange:function(e){return ae(e.target.value)}}),(0,P.jsx)(S.wV,{children:(0,P.jsx)(R.ATb,{})}),(0,P.jsx)(S.jO,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:function(e){return g(e.target.value)},name:"conpassword"})]}),(0,P.jsx)("div",{className:"d-grid",children:(0,P.jsxs)(V.Z,{direction:"row",spacing:1,children:[" ",(0,P.jsx)(A.Z,{size:"small",onClick:function(e){return xe(e)},endIcon:(0,P.jsx)(Z.Z,{}),loading:u,loadingPosition:"end",variant:"contained",children:"Create Account"}),(0,P.jsx)(c.rU,{style:{textDecoration:"none",textAlign:"right"},to:"/login",children:"Already have account?"})]})})]})})})})})]})})})})})})})}}}]);
//# sourceMappingURL=9814.d249d699.chunk.js.map