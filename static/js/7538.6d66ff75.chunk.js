(self.webpackChunknhia_client=self.webpackChunknhia_client||[]).push([[7538],{25781:function(e,t,n){"use strict";var r=n(59860),a=n(57689),i=n(86711),s=n(80184);t.Z=function(e){var t=(0,a.s0)();return(0,s.jsx)(r.Z,{color:"secondary",onClick:function(n){t(e.url)},variant:"contained",style:{backgroundColor:"gray"},endIcon:(0,s.jsx)(i.Z,{}),loadingPosition:"end",children:(0,s.jsx)("span",{children:"CANCEL"})})}},56848:function(e,t,n){"use strict";n.d(t,{C:function(){return a},x:function(){return r}});var r=(0,n(25984).kP)("1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ0987654321",10),a=n(42414)(11)},5985:function(e,t){"use strict";t.Z="https://www.google.com"},47538:function(e,t,n){"use strict";n.a(e,(async function(e,r){try{n.r(t);var a=n(4942),i=n(1413),s=n(74165),o=n(15861),u=n(29439),c=n(99126),d=n(72791),l=n(1012),p=n(57689),f=n(25781),h=n(72426),m=n.n(h),v=(n(2323),n(30459)),x=n(1582),g=n(59860),y=n(21686),Z=n(5985),b=n(78983),j=n(59930),k=n(56848),w=n(80184),I=e([c,l,j]);[c,l,j]=I.then?(await I)():I;t.default=function(){var e=(0,d.useContext)(l.V),t=e.currentUser,n=e.permissions,r=(0,d.useState)(!1),h=(0,u.Z)(r,2),I=h[0],C=h[1],E=(0,d.useState)([]),P=(0,u.Z)(E,2),R=P[0],M=P[1],S=(0,d.useState)([]),N=(0,u.Z)(S,2),A=(N[0],N[1]),O=(0,d.useState)(""),B=(0,u.Z)(O,2),Y=B[0],_=B[1],T=(0,d.useState)(t.email),D=(0,u.Z)(T,2),L=D[0],U=(D[1],(0,d.useState)(!1)),V=(0,u.Z)(U,2),F=V[0],G=V[1],q=(0,d.useState)(""),z=(0,u.Z)(q,2),X=z[0],$=z[1],H=(0,d.useState)(0),Q=(0,u.Z)(H,2),J=Q[0],K=Q[1],W=(0,p.s0)(),ee=(0,d.useState)([]),te=(0,u.Z)(ee,2),ne=te[0],re=te[1],ae=(0,d.useState)([]),ie=(0,u.Z)(ae,2),se=ie[0],oe=ie[1],ue=(0,d.useState)([]),ce=(0,u.Z)(ue,2),de=ce[0],le=ce[1],pe=(0,d.useState)({rrr_number:"",userId:"",activated:"",activatedby:"",amount:0,duration:0,gifshipId:0,gifshipTypeId:0,gifshipPackageId:0,activated_date:"",expired_date:""}),fe=(0,u.Z)(pe,2),he=fe[0],me=fe[1];(0,d.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/users");case 3:n=e.sent,M(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/gifship");case 3:n=e.sent,re(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();t(),e(),n.indexOf("ADD_RRR")>-1||W("/")}),[n,W,t]);var ve=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=t.target.value)){e.next=7;break}return e.next=5,c.Z.get("/gifshipLists/".concat(n));case 5:r=e.sent,oe(r.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=t.target.value)){e.next=9;break}return e.next=5,c.Z.get("/gifshipPackageList/".concat(n));case 5:r=e.sent,le(r.data),e.next=10;break;case 9:le([]);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.value,e.next=4,c.Z.get("/gifshipPackage/".concat(n));case 4:r=e.sent,K(r.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.target.value,e.next=4,c.Z.get("/register/".concat(a,"/userId"));case 4:return i=e.sent,A(i.data),e.next=8,c.Z.get("/user-rrr/".concat(a,"/0/"));case 8:o=e.sent,0===(null===(n=o.data[0])||void 0===n?void 0:n.length)&&G(!1),u=m()(null===(r=o.data[0])||void 0===r?void 0:r.expired_date).format("MMMM YYYY"),d=m()(),d.diff(u,"days")>-1?G(!1):(G(!0),$("You still have active payment on your account. If you continue it will override the existing one. Expired date: "+m()(o.data[0].expired_date).format("Do MMMM YYYY")),(0,v.Z)("You still have active payment on your account. If you continue it will override the existing one. Expired date: "+m()(o.data[0].expired_date).format("Do MMMM YYYY"),"warning")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),_(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),Ze=function(e){me((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,a.Z)({},e.target.name,e.target.value))}))},be=function(e){return(0,w.jsxs)("html",{lang:"en",children:[(0,w.jsx)("h2",{children:"REGISTRATION CONFIRMATION"}),(0,w.jsx)("hr",{}),(0,w.jsxs)("body",{children:[(0,w.jsx)("p",{children:e}),(0,w.jsx)("hr",{}),"Thanks.",(0,w.jsx)("br",{}),"Management Team."]})]})},je=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var r,a,i,u,d,l,p,f,h,x,g,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),C(!0),e.prev=2,r=document.getElementById("rrr_number").value,a=document.getElementById("userId").value,!0,i=null===t||void 0===t?void 0:t.id,u=document.getElementById("amount").value,document.getElementById("amt").value,d=document.getElementById("duration").value,l=document.getElementById("gifshipId").value,p=document.getElementById("gifshipTypeId").value,f=document.getElementById("gifshipPackageId").value,h=document.getElementById("activated_date").value,x=document.getElementById("minNumber").value,g=document.getElementById("maxNumber").value,y=m()(Date.parse(h)+1e3*d*60*60*24).format("YYYY-MM-DD"),e.next=19,c.Z.post("/user-rrr/",{rrr_number:r,userId:a,activated:true,activatedby:i,amount:u,duration:d,gifshipId:l,gifshipTypeId:p,gifshipPackageId:f,activated_date:h,expired_date:y,maxNumber:u/g,minNumber:x}).then(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),n=t.data.id,r=k.x,e.next=5,c.Z.put("/activate/".concat(a,"/"),{}).then(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.post("/code/0",{user_rrrId:n,userId:user.id,code:r}).then(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),(0,v.Z)("Your Code is: "+r,"success"),n=render(be("Congratulations! <br /> Your account has been created successfully. Please visit: <a href ='"+Z.Z+"'>here </a> to login.<br /> Username is your registered email,<br /> password: password@123,<br /> registration code: "+r+"<br />"),{plainText:!0}),e.next=5,c.Z.post("/sendmail/user/auth/email/send",{to:L,msg:n,subject:"Registration Confirmation"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){C(!1),(0,v.Z)("Unable to renerate code: "+e,"error")}));case 2:(0,v.Z)("User activated successfuly","success");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:(0,v.Z)("One record added successfuly","success"),W("/user-rrr/",{state:"ok"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){C(!1),(0,v.Z)(e,"error")}));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),C(!1),_("Invalid data entry, check the entry and try again.");case 25:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsx)(b.rb,{children:(0,w.jsx)(b.b7,{xs:12,style:{fontSize:"12px"},children:(0,w.jsxs)(b.xH,{className:"mb-12",children:[(0,w.jsx)(b.bn,{style:{backgroundColor:"skyblue"},children:(0,w.jsx)("strong",{style:{color:"white"},children:"MANAGE ENROLEE PAYMENT VIA RRR"})}),(0,w.jsx)(b.sl,{children:(0,w.jsxs)(j.q3,{add:"States",children:[(0,w.jsxs)(b.rb,{children:[(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["RRR NO#",(0,w.jsx)(b.jO,{type:"text",id:"rrr_number",name:"rrr_number",placeholder:"RRR Number",onChange:Ze})]}),(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Enrolee",(0,w.jsxs)(b.LX,{name:"userId",id:"userId",onChange:Ze,onBlur:ye,children:[(0,w.jsx)("option",{value:0,disabled:!0,selected:!0,children:"--select User--"}),0===R.length?"":R.map((function(e){return(0,w.jsxs)("option",{value:e.id,children:[e.surname,"  ",e.othername," - ",e.email," "]},e.id)}))]})]})]}),(0,w.jsxs)(b.rb,{children:[(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Programme",(0,w.jsxs)(b.LX,{name:"gifshipId",id:"gifshipId",onChange:Ze,onBlur:ve,children:[(0,w.jsx)("option",{disabled:!0,children:"-- select --"}),0===ne.length?"":ne.map((function(e){return(0,w.jsx)("option",{value:e.id,selected:!0,children:e.name},e.id)}))]})]}),"  ",(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Sub-Programme",(0,w.jsxs)(b.LX,{name:"gifshipTypeId",id:"gifshipTypeId",onChange:Ze,onBlur:xe,children:[(0,w.jsx)("option",{disabled:!0,children:"-- select --"}),0===se?"":se.map((function(e){return(0,w.jsx)("option",{value:e.id,selected:!0,children:e.name},e.id)}))]})]})]}),(0,w.jsxs)(b.rb,{children:[(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Package",(0,w.jsxs)(b.LX,{name:"gifshipPackageId",id:"gifshipPackageId",onChange:Ze,onBlur:ge,children:[(0,w.jsx)("option",{disabled:!0,children:"-- select --"}),0===de.length?"":de.map((function(e){return(0,w.jsx)("option",{value:e.id,selected:!0,children:e.name},e.id)}))]})]}),(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Min. Amount",(0,w.jsx)(b.jO,{type:"number",name:"amt",id:"amt",value:(J.amount*J.qty).toFixed(2),readOnly:!0}),(0,w.jsx)(b.jO,{type:"hidden",name:"minNumber",id:"minNumber",value:J.qty,readOnly:!0}),(0,w.jsx)(b.jO,{type:"hidden",name:"maxNumber",id:"maxNumber",value:J.amount,readOnly:!0})]})]}),(0,w.jsxs)(b.rb,{children:[(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Duration in Days",(0,w.jsx)(b.jO,{type:"number",name:"duration",id:"duration",readOnly:!0,value:J.duration,onChange:Ze})]}),(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Amount Paid",(0,w.jsx)(b.jO,{type:"number",name:"amount",id:"amount",value:he.amount,placeholder:"Amount paid",onChange:Ze})]})]}),(0,w.jsxs)(b.rb,{children:[(0,w.jsxs)(b.b7,{xs:12,xl:6,children:["Start Date",(0,w.jsx)(b.jO,{type:"date",name:"activated_date",id:"activated_date",placeholder:"Start date",onChange:Ze})]}),(0,w.jsx)(b.b7,{children:F&&(0,w.jsx)("span",{style:{color:"red"},children:X})})]}),(0,w.jsx)(b.rb,{children:(0,w.jsxs)(b.b7,{children:[(0,w.jsx)("br",{}),(null===n||void 0===n?void 0:n.indexOf("ADD_RRR"))>-1&&he.amount>=J.amount*J.qty&&he.amount%(J.amount*J.qty)===0?(0,w.jsxs)(x.Z,{direction:"row",spacing:1,children:[" ",(0,w.jsx)(g.Z,{size:"small",onClick:function(e){return je(e)},endIcon:(0,w.jsx)(y.Z,{}),loading:I,loadingPosition:"end",variant:"contained",children:(0,w.jsx)("span",{children:"update"})}),(0,w.jsx)(f.Z,{url:"/user-rrr/"})]}):(0,w.jsx)(f.Z,{url:"/user-rrr/"}),(0,w.jsx)("span",{style:{color:"red",marginLeft:"20%"},children:Y})]})})]})})]})})})},r()}catch(C){r(C)}}))},86711:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(45649)),i=n(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=s},21686:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(45649)),i=n(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=s},1582:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(4942),a=n(63366),i=n(87462),s=n(72791),o=n(30831),u=n(82466),c=n(94419),d=n(21217),l=(0,n(44046).ZP)(),p=n(67078),f=n(78519),h=n(85080),m=n(51184),v=n(45682),x=n(80184),g=["component","direction","spacing","divider","children","className","useFlexGap"],y=(0,h.Z)(),Z=l("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function b(e){return(0,p.Z)({props:e,name:"MuiStack",defaultTheme:y})}function j(e,t){var n=s.Children.toArray(e).filter(Boolean);return n.reduce((function(e,r,a){return e.push(r),a<n.length-1&&e.push(s.cloneElement(t,{key:"separator-".concat(a)})),e}),[])}var k=function(e){var t=e.ownerState,n=e.theme,a=(0,i.Z)({display:"flex",flexDirection:"column"},(0,m.k9)({theme:n},(0,m.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var s=(0,v.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),c=(0,m.P$)({values:t.direction,base:o}),d=(0,m.P$)({values:t.spacing,base:o});"object"===typeof c&&Object.keys(c).forEach((function(e,t,n){if(!c[e]){var r=t>0?c[n[t-1]]:"column";c[e]=r}}));a=(0,u.Z)(a,(0,m.k9)({theme:n},d,(function(e,n){return t.useFlexGap?{gap:(0,v.NA)(s,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":(0,r.Z)({},"margin".concat((a=n?c[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[a])),(0,v.NA)(s,e))};var a})))}return a=(0,m.dt)(n.breakpoints,a)};var w=n(66934),I=n(31402),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?Z:t,r=e.useThemeProps,u=void 0===r?b:r,l=e.componentName,p=void 0===l?"MuiStack":l,h=n(k),m=s.forwardRef((function(e,t){var n=u(e),r=(0,f.Z)(n),s=r.component,l=void 0===s?"div":s,m=r.direction,v=void 0===m?"column":m,y=r.spacing,Z=void 0===y?0:y,b=r.divider,k=r.children,w=r.className,I=r.useFlexGap,C=void 0!==I&&I,E=(0,a.Z)(r,g),P={direction:v,spacing:Z,useFlexGap:C},R=(0,c.Z)({root:["root"]},(function(e){return(0,d.Z)(p,e)}),{});return(0,x.jsx)(h,(0,i.Z)({as:l,ownerState:P,ref:t,className:(0,o.Z)(R.root,w)},E,{children:b?j(k,b):k}))}));return m}({createStyledComponent:(0,w.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}}),useThemeProps:function(e){return(0,I.Z)({props:e,name:"MuiStack"})}}),E=C},78519:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(93433),a=n(87462),i=n(63366),s=n(82466),o=n(87416),u=["sx"],c=function(e){var t,n,r={systemProps:{},otherProps:{}},a=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:o.Z;return Object.keys(e).forEach((function(t){a[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function d(e){var t,n=e.sx,o=(0,i.Z)(e,u),d=c(o),l=d.systemProps,p=d.otherProps;return t=Array.isArray(n)?[l].concat((0,r.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,s.P)(e)?(0,a.Z)({},l,e):l}:(0,a.Z)({},l,n),(0,a.Z)({},p,{sx:t})}},15878:function(e,t,n){var r=n(65854);e.exports=function(e){var t,n,a=e.length,i=new Uint8Array(a);for(r(i);a>1;)t=i[a-1]%a,n=e[--a],e[a]=e[t],e[t]=n;return e}},42414:function(e,t,n){var r=n(15878);e.exports=function(e){var t=[],n=[0,1,2,3,4,5,6,7,8,9];if(!e)throw new Error("Missing required param: pinLength");if(e!==parseInt(e,10)||parseInt(e,10)<0)throw new Error("pinLength is not a whole number");for(var a=0;a<e;a++){var i=r(n.slice(0));t.push(i[0])}return t.join("")}},65854:function(e,t,n){var r=n(39851),a=n(75950);e.exports=function(e){if(r.crypto&&r.crypto.getRandomValues)return r.crypto.getRandomValues(e);if("object"===typeof r.msCrypto&&"function"===typeof r.msCrypto.getRandomValues)return r.msCrypto.getRandomValues(e);if(a.randomBytes){if(!(e instanceof Uint8Array))throw new TypeError("expected Uint8Array");if(e.length>65536){var t=new Error;throw t.code=22,t.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+e.length+") exceeds the number of bytes of entropy available via this API (65536).",t.name="QuotaExceededError",t}var n=a.randomBytes(e.length);return e.set(n),e}throw new Error("No secure random number generator available.")}},39851:function(e,t,n){var r;r="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},e.exports=r},75950:function(){},30831:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.Z=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},25984:function(e,t,n){"use strict";n.d(t,{kP:function(){return a}});var r=function(e){return crypto.getRandomValues(new Uint8Array(e))},a=function(e){return function(e,t,n){var r=(2<<Math.log(e.length-1)/Math.LN2)-1,a=-~(1.6*r*t/e.length);return function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s="";;)for(var o=n(a),u=a;u--;)if((s+=e[o[u]&r]||"").length===i)return s}}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,r)}}}]);
//# sourceMappingURL=7538.6d66ff75.chunk.js.map